(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{52:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),s=c(23),n=c.n(s),i=(c(52),c(12)),l=c(9),o=c(7),d=c(8),u=c.n(d),j=c(16),b=c(17),m=c.n(b),h=c(44),p="LOGIN_SUCCES",O="LOGIN_FAIL",x="SIGNUP_SUCCESS",f="SIGNUP_FAIL",v="ACTIVATION_SUCCESS",N="ACTIVATION_FAIL",g="USER_LOADED_SUCCESS",y="USER_LOADED_FAIL",w="AUTHENTICATED_SUCCESS",S="AUTHENTICATED_FAIL",_="LOGOUT",C="PASSWORD_RESET_SUCCESS",A="PASSWORD_RESET_FAIL",k="PASSWORD_RESET_CONFIRM_SUCCESS",P="PASSWORD_RESET_CONFIRM_FAIL",E="REFRESH_SUCCESS",T="REFRESH_FAIL",F="SET_ALERT",I="REMOVE_ALERT",L="PRODUCTS_LOADED_SUCCESS",R="PRODUCTS_LOADED_FAIL",D="PRODUCT_LOADED_SUCCESS",U="PRODUCT_LOADED_FAIL",W="PRODUCT_CREATE_SUCCESS",q="PRODUCT_CREATE_FAIL",J=c(84),M=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(a){var r=Object(J.a)();a({type:F,payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return a({type:I,payload:r})}),c)}},H=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return c={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,m.a.get("/auth/users/me/",c);case 5:a=e.sent,t({type:g,payload:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:y});case 12:e.next=15;break;case 14:t({type:y});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},G=c(0),V=Object(o.b)(null,{refreshToken:function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var c,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=20;break}if(c=Object(h.a)(localStorage.getItem("access")),!(Date.now()>=1e3*c.exp)){e.next=17;break}return a={headers:{"Content-Type":"application/json"}},r=JSON.stringify({refresh:localStorage.getItem("refresh")}),e.prev=5,e.next=8,m.a.post("/auth/jwt/refresh/",r,a);case 8:s=e.sent,t({type:E,payload:s.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t({type:T});case 15:e.next=18;break;case 17:t({type:T});case 18:e.next=21;break;case 20:t({type:T});case 21:t(function(){var e=Object(j.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return c={headers:{"Content-Type":"application/json",Accept:"application/json"}},a=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,m.a.post("/auth/jwt/verify/",a,c);case 6:"token_not_valid"!==e.sent.data.code?t({type:w}):t({type:S}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:S});case 13:e.next=16;break;case 15:t({type:S});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()),t(H());case 23:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.refreshToken,c=e.children;return Object(a.useEffect)((function(){t()})),Object(G.jsx)(G.Fragment,{children:c})})),z=Object(o.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(G.jsx)("div",{className:"alert alert--".concat(e.alertType),children:e.msg},e.id)}))})),Y=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{})((function(e){var t=e.isAuthenticated;return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("a",{className:"navbar-brand",href:"/",children:"Mercado"}),Object(G.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarScroll","aria-controls":"navbarScroll","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(G.jsx)("span",{className:"navbar-toggler-icon"})}),Object(G.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarScroll",children:[Object(G.jsxs)("ul",{className:"navbar-nav me-auto my-2 my-lg-0",children:[Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)("a",{className:"nav-link",href:"/",children:"Home"})}),Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)("a",{className:"nav-link",href:"/shop",children:"Shop"})}),t?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)("a",{className:"nav-link",href:"/profile",children:"Account"})}),Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)("a",{className:"nav-link",href:"/cart",children:"Cart"})})]}):Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(G.jsx)("li",{className:"nav-item",children:Object(G.jsx)("a",{className:"nav-link",href:"contact-us/",children:"Contact Us"})})]}),Object(G.jsxs)("form",{className:"d-flex",children:[Object(G.jsx)("input",{className:"px-2 search",type:"text","aria-label":"Search"}),Object(G.jsx)("button",{className:"search-btn",type:"submit",children:"Search"})]})]})]})}),Object(G.jsx)(z,{})]})})),$=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/store/products/");case 3:c=e.sent,t({type:L,payload:c.data}),t(M("Products loaded","success")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:R}),t(M("Products not loaded","error"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},B=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,products:e.products.products}}),{loadProducts:$})((function(e){var t=e.loadProducts,c=e.isAuthenticated,r=e.products;return Object(a.useEffect)((function(){t()}),[]),c?Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(Y,{}),Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("section",{className:"showcase",children:Object(G.jsx)("div",{className:"container py-5",children:Object(G.jsx)("div",{className:"row py-5",children:Object(G.jsxs)("div",{className:"col-lg-7 pt-5 text-center",children:[Object(G.jsx)("h1",{children:"THE"}),Object(G.jsx)("h1",{children:" FRESHEST"}),Object(G.jsx)("h5",{children:"and the best deals in your locality!"}),Object(G.jsx)(i.b,{to:"/",children:Object(G.jsx)("button",{type:"button",className:"showcase-btn-1 mt-3",children:"LEARN MORE"})}),Object(G.jsx)(i.b,{to:"/shop",children:Object(G.jsx)("button",{type:"button",className:"showcase-btn-2 mt-3",children:"SHOP NOW"})})]})})})}),Object(G.jsx)("section",{className:"categories",children:Object(G.jsx)("div",{className:"container py-5",children:Object(G.jsxs)("div",{className:"row justify-content-center",children:[Object(G.jsxs)("div",{className:"col-lg-2 text-center",children:[Object(G.jsx)("div",{className:"card border-secondary border-2 mb-3 bg-transparent",style:{maxWidth:"18rem"},children:Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("img",{src:"/images/veg.png",className:"img fluid",alt:""})})}),Object(G.jsx)("h6",{children:"Veggies"})]}),Object(G.jsxs)("div",{className:"col-lg-2 text-center",children:[Object(G.jsx)("div",{className:"card border-secondary border-2 mb-3 bg-transparent",style:{maxWidth:"18rem"},children:Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("img",{src:"/images/fruit.png",className:"img fluid",alt:""})})}),Object(G.jsx)("h6",{children:"Fruits"})]}),Object(G.jsxs)("div",{className:"col-lg-2 text-center",children:[Object(G.jsx)("div",{className:"card border-secondary border-2 mb-3 bg-transparent",style:{maxWidth:"18rem"},children:Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("img",{src:"/images/meat.png",className:"img fluid",alt:""})})}),Object(G.jsx)("h6",{children:"Meat, Fish, and Poultry"})]}),Object(G.jsxs)("div",{className:"col-lg-2 text-center",children:[Object(G.jsx)(i.b,{to:"/shop?category=homemade+goods",children:Object(G.jsx)("div",{className:"card border-secondary border-2 mb-3 bg-transparent",style:{maxWidth:"18rem"},children:Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("img",{src:"/images/goods.png",className:"img fluid",alt:""})})})}),Object(G.jsx)("h6",{children:"Homemade Goods"})]}),Object(G.jsxs)("div",{className:"col-lg-2 text-center",children:[Object(G.jsx)("div",{className:"card border-secondary border-2 mb-3 bg-transparent",style:{maxWidth:"18rem"},children:Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("img",{src:"/images/plant.png",className:"img fluid",alt:""})})}),Object(G.jsx)("h6",{children:"Plants and Flowers"})]})]})})}),Object(G.jsx)("section",{className:"product",children:Object(G.jsxs)("div",{className:"container py-5",children:[Object(G.jsx)("div",{className:"row py-5",children:Object(G.jsxs)("div",{className:"col-lg-5 m-auto text-center",children:[Object(G.jsx)("h1",{children:"Featured Products"}),Object(G.jsx)("h6",{style:{color:"rgb(71, 81, 44)"},children:"What's hot and new right now!"})]})}),Object(G.jsx)("div",{className:"row",children:r?r.map((function(e,t){return Object(G.jsx)("div",{className:"col-lg-3 text-center",children:Object(G.jsxs)("div",{className:"card border-0 mb-3",children:[Object(G.jsx)("img",{src:e.image,className:"card-img-top",alt:""}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("h5",{className:"card-title",children:e.name}),Object(G.jsxs)("h6",{className:"card-subtitle mb-2",children:["Php ",e.price]}),Object(G.jsx)("a",{href:"/products/"+e.slug,className:"card-link",children:"View"}),Object(G.jsx)("a",{href:"/products/"+e.slug,className:"card-link",children:"Add to Cart"})]})]})},e.id)})):Object(G.jsx)("div",{className:"col-lg-3 text-center",children:Object(G.jsx)("p",{children:"Loading products..."})})})]})})]})]}):Object(G.jsx)(l.a,{to:"/login"})})),K=c(10),Q=c(4),X=c(11),Z=c(85),ee=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var c=Object(j.a)(u.a.mark((function c(a){var r,s,n;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({phone_number:e,password:t}),c.prev=2,c.next=5,m.a.post("/auth/jwt/create/",s,r);case 5:n=c.sent,a({type:p,payload:n.data}),a(H()),a(M("Login successful","success")),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(2),a({type:O}),a(M("Login failed","error"));case 15:case"end":return c.stop()}}),c,null,[[2,11]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.login,c=e.isAuthenticated,r=Object(a.useState)({phoneNumber:"",password:""}),s=Object(X.a)(r,2),n=s[0],o=s[1],d=n.phoneNumber,u=n.password;if(c)return Object(G.jsx)(l.a,{to:"/"});var j=function(e){if("phoneNumber"===e.target.name){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&o(Object(Q.a)(Object(Q.a)({},n),{},Object(K.a)({},e.target.name,e.target.value)))}else o(Object(Q.a)(Object(Q.a)({},n),{},Object(K.a)({},e.target.name,e.target.value)))};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(z,{}),Object(G.jsx)("div",{className:"outer",children:Object(G.jsx)("div",{className:"inner",children:Object(G.jsxs)("div",{className:"container mt-4",children:[Object(G.jsx)("div",{className:"row justify-content-center",children:Object(G.jsx)("img",{src:"images/logo1.png",alt:"logo"})}),Object(G.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t("+63"+d,u)}(e)},children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone Number"}),Object(G.jsxs)("div",{className:"input-group mb-3",children:[Object(G.jsx)("span",{className:"input-group-text",id:"phonePrefix",children:"(+63)"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"phoneNumber",name:"phoneNumber",placeholder:"9*********","aria-label":"9*********","aria-describedby":"phonePrefix",maxLength:10,required:!0,value:d,onChange:function(e){return j(e)}})]})]})}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(G.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0,value:u,onChange:function(e){return j(e)}})]})})}),Object(G.jsx)("div",{className:"row justify-content-center mt-3",children:Object(G.jsx)(Z.a,{variant:"primary",type:"submit",children:"Log in"})}),Object(G.jsxs)("p",{className:"forgot-password text-center",children:["Forgot ",Object(G.jsx)(i.b,{to:"/reset_password",children:"Password?"})]}),Object(G.jsxs)("p",{className:"forgot-password text-center",children:["Don't have an account? ",Object(G.jsx)(i.b,{to:"/signup",children:"Sign Up"}),"."]})]})]})})})]})})),te=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{create_user:function(e,t,c,a,r,s){return function(){var n=Object(j.a)(u.a.mark((function n(i){var l,o,d;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={headers:{"Content-Type":"application/json"}},o=JSON.stringify({phone_number:e,first_name:t,last_name:c,username:a,password:r,re_password:s}),n.prev=2,n.next=5,m.a.post("/auth/users/",o,l);case 5:d=n.sent,i({type:x,payload:d.data}),i(M("Sign up successful","success")),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),i({type:f}),i(M("Sign up failed","error"));case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.create_user,c=e.isAuthenticated,r=Object(a.useState)(!1),s=Object(X.a)(r,2),n=s[0],o=s[1],d=Object(a.useState)({phoneNumber:"",firstName:"",lastName:"",username:"",password:"",rePassword:""}),u=Object(X.a)(d,2),j=u[0],b=u[1],m=j.phoneNumber,h=j.firstName,p=j.lastName,O=j.username,x=j.password,f=j.rePassword,v=function(e){if("phoneNumber"===e.target.name){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&b(Object(Q.a)(Object(Q.a)({},j),{},Object(K.a)({},e.target.name,e.target.value)))}else b(Object(Q.a)(Object(Q.a)({},j),{},Object(K.a)({},e.target.name,e.target.value)))};return c?Object(G.jsx)(l.a,{to:"/"}):n?Object(G.jsx)(l.a,{to:"/login"}):Object(G.jsx)("div",{className:"outer",children:Object(G.jsx)("div",{className:"inner mt-4",children:Object(G.jsxs)("div",{className:"container mt-4",children:[Object(G.jsx)("div",{className:"row justify-content-center",children:Object(G.jsx)("img",{src:"images/logo1.png",alt:"logo",style:{maxHeight:"200px",width:"auto"}})}),Object(G.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),x===f&&(t("+63"+m,h,p,O,x,f),o(!0))}(e)},children:[Object(G.jsx)("div",{className:"row",children:Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone Number"}),Object(G.jsxs)("div",{className:"input-group mb-3",children:[Object(G.jsx)("span",{className:"input-group-text",id:"phonePrefix",children:"(+63)"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"phoneNumber",name:"phoneNumber",placeholder:"9*********","aria-label":"9*********","aria-describedby":"phonePrefix",maxLength:10,required:!0,value:m,onChange:function(e){return v(e)}})]})]})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",placeholder:"First Name",required:!0,value:h,onChange:function(e){return v(e)}})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",placeholder:"Last Name",required:!0,value:p,onChange:function(e){return v(e)}})]})})]}),Object(G.jsx)("div",{className:"row",children:Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",placeholder:"Username",required:!0,value:O,onChange:function(e){return v(e)}})]})})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(G.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0,value:x,onChange:function(e){return v(e)}})]})}),Object(G.jsx)("div",{className:"col",children:Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"rePassword",className:"form-label",children:"Confirm Password"}),Object(G.jsx)("input",{type:"password",className:"form-control",id:"rePassword",name:"rePassword",placeholder:"Confirm Password",required:!0,value:f,onChange:function(e){return v(e)}})]})})]}),Object(G.jsxs)("div",{className:"row justify-content-center mt-3",children:[Object(G.jsx)("button",{type:"submit",className:"btn btn-outline-secondary",style:{background:"rgba(175, 167, 140, 1)"},children:"CREATE MY ACCOUNT NOW"}),Object(G.jsxs)("p",{className:"forgot-password text-center",children:["Already have an account? ",Object(G.jsx)(i.b,{to:"/login",children:"Login"})]})]})]})]})})})})),ce=c(82),ae=Object(o.b)(null,{verify:function(e,t){return function(){var c=Object(j.a)(u.a.mark((function c(a){var r,s;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({uid:e,token:t}),c.prev=2,c.next=5,m.a.post("/auth/users/activation/",s,r);case 5:a({type:v}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),a({type:N});case 11:case"end":return c.stop()}}),c,null,[[2,8]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.verify,c=e.match,r=Object(a.useState)(!1),s=Object(X.a)(r,2),n=s[0],i=s[1];return n?Object(G.jsx)(l.a,{to:"/"}):Object(G.jsx)(ce.a,{className:"mt-6",children:Object(G.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(G.jsx)("h1",{children:"Verify Your Account"}),Object(G.jsx)(Z.a,{variant:"primary",onClick:function(e){var a=c.params.uid,r=c.params.token;t(a,r),i(!0)},children:"Verify"})]})})})),re=c(83),se=Object(o.b)(null,{reset_password:function(e){return function(){var t=Object(j.a)(u.a.mark((function t(c){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e}),t.prev=2,t.next=5,m.a.post("/auth/users/reset_password/",r,a);case 5:c({type:C}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),c({type:A});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.reset_password,c=Object(a.useState)(!1),r=Object(X.a)(c,2),s=r[0],n=r[1],i=Object(a.useState)({email:""}),o=Object(X.a)(i,2),d=o[0],u=o[1],j=d.email;return s?Object(G.jsx)(l.a,{to:"/"}):Object(G.jsx)(ce.a,{className:"mt-4",children:Object(G.jsxs)(re.a,{onSubmit:function(e){return function(e){e.preventDefault(),t(j),n(!0)}(e)},children:[Object(G.jsx)("h5",{children:"Password Reset Request"}),Object(G.jsxs)(re.a.Group,{children:[Object(G.jsx)(re.a.Label,{children:"Email"}),Object(G.jsx)(re.a.Control,{type:"email",name:"email",id:"email",value:j,onChange:function(e){return function(e){return u(Object(Q.a)(Object(Q.a)({},d),{},Object(K.a)({},e.target.name,e.target.value)))}(e)},required:!0})]}),Object(G.jsx)(Z.a,{variant:"primary",type:"submit",children:"Request"})]})})})),ne=Object(o.b)(null,{reset_password_confirm:function(e,t,c,a){return function(){var r=Object(j.a)(u.a.mark((function r(s){var n,i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={headers:{"Content-Type":"application/json"}},i=JSON.stringify({uid:e,token:t,new_password:c,re_new_password:a}),r.prev=2,r.next=5,m.a.post("/auth/users/reset_password_confirm/",i,n);case 5:s({type:k}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),s({type:P});case 11:case"end":return r.stop()}}),r,null,[[2,8]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.match,c=e.reset_password_confirm,r=Object(a.useState)(!1),s=Object(X.a)(r,2),n=s[0],i=s[1],o=Object(a.useState)({new_password:"",re_new_password:""}),d=Object(X.a)(o,2),u=d[0],j=d[1],b=u.new_password,m=u.re_new_password,h=function(e){return j(Object(Q.a)(Object(Q.a)({},u),{},Object(K.a)({},e.target.name,e.target.value)))};return n?Object(G.jsx)(l.a,{to:"/"}):Object(G.jsx)(ce.a,{className:"mt-4",children:Object(G.jsxs)(re.a,{onSubmit:function(e){return function(e){e.preventDefault();var a=t.params.uid,r=t.params.token;c(a,r,b,m),i(!0)}(e)},children:["Reset Password",Object(G.jsxs)(re.a.Group,{children:[Object(G.jsx)(re.a.Label,{children:"New Password"}),Object(G.jsx)(re.a.Control,{type:"password",name:"new_password",id:"new_password",value:b,onChange:function(e){return h(e)},required:!0})]}),Object(G.jsxs)(re.a.Group,{children:[Object(G.jsx)(re.a.Label,{children:"Re-type New Password"}),Object(G.jsx)(re.a.Control,{type:"password",name:"re_new_password",id:"re_new_password",value:m,onChange:function(e){return h(e)},required:!0})]}),Object(G.jsx)(Z.a,{variant:"primary",type:"submit",children:"Reset Password"})]})})})),ie=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,product:e.products.product}}),{getProduct:function(e){return function(){var t=Object(j.a)(u.a.mark((function t(c){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{Accept:"application/json"}},t.prev=1,t.next=4,m.a.get("/store/products/".concat(e,"/"),a);case 4:r=t.sent,c({type:D,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c({type:U});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,c=e.getProduct,r=e.product;return Object(a.useEffect)((function(){var e=t.params.slug;c(e)})),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Y,{}),Object(G.jsxs)("div",{className:"card mb-3",children:[Object(G.jsx)("img",{src:r&&r.image,className:"card-img-top",alt:"Market goods"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("h5",{className:"card-title",children:r&&r.name}),Object(G.jsx)("p",{className:"card-text",children:r&&r.description}),Object(G.jsxs)("p",{className:"card-text",children:["Php ",r&&r.price]}),Object(G.jsx)("p",{className:"card-text",children:Object(G.jsx)("small",{className:"text-muted",children:r&&r.created_at})}),Object(G.jsx)("a",{href:"add-to-cart/",className:"card-link",children:"Add to Cart"})]})]})]})})),le=Object(o.b)((function(e){return{curr_user:e.auth.user,isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(e){e({type:_}),e(M("Logout successful","success"))}},createProduct:function(e,t,c,a,r,s){return function(){var n=Object(j.a)(u.a.mark((function n(i){var l,o,d;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access"))}},o=JSON.stringify({user:e,category:1,name:t,description:c,price:a,disc_price:r,in_stock:s}),console.log(o),n.prev=3,n.next=6,m.a.post("/store/products/",o,l);case 6:d=n.sent,i({type:W,payload:d}),i(M("Product created successfully","success")),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),i({type:q}),i(M("Product creation failed","error"));case 15:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.logout,c=e.createProduct,r=e.curr_user,s=(e.isAuthenticated,Object(a.useState)({productName:"",description:"",price:0,discPrice:0,inStock:!1})),n=Object(X.a)(s,2),i=n[0],l=n[1],o=i.productName,d=i.desc,u=i.price,j=i.discPrice,b=i.inStock,m=function(e){return l(Object(Q.a)(Object(Q.a)({},i),{},Object(K.a)({},e.target.name,e.target.value)))};return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(Y,{}),Object(G.jsxs)("div",{className:"container mt-5",children:[Object(G.jsxs)("h1",{children:[r&&r.first_name," ",r&&r.last_name]}),Object(G.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-warning",onClick:function(){t(),window.location.href="/login"},children:"Logout"})]}),Object(G.jsx)("div",{className:"container mt-5",children:Object(G.jsxs)("form",{onSubmit:function(e){return function(e){var t=b?1:0;c(r.id,o,d,u,j,t),window.location.href="/shop"}()},children:[Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"productName",className:"form-label",children:"Name your product"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"productName",name:"productName",required:!0,value:o,onChange:function(e){return m(e)}})]}),Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"desc",className:"form-label",children:"Describe your product"}),Object(G.jsx)("textarea",{type:"password",className:"form-control",id:"desc",name:"desc",rows:"3",value:d,onChange:function(e){return m(e)}})]}),Object(G.jsxs)("div",{className:"row mb-3",children:[Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(G.jsx)("input",{type:"number",className:"form-control",id:"price",name:"price",required:!0,value:u,onChange:function(e){return m(e)}})]}),Object(G.jsxs)("div",{className:"col",children:[Object(G.jsx)("label",{htmlFor:"discPrice",className:"form-label",children:"Discounted Price"}),Object(G.jsx)("input",{type:"number",className:"form-control",id:"discPrice",name:"discPrice",value:j,onChange:function(e){return m(e)}})]})]}),Object(G.jsxs)("div",{className:"mb-3",children:[Object(G.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:"Show your product"}),Object(G.jsx)("input",{className:"form-control",type:"file",id:"formFileMultiple",multiple:!0})]}),Object(G.jsxs)("div",{className:"mb-3 form-check",children:[Object(G.jsx)("input",{type:"checkbox",className:"form-check-input",id:"inStock",name:"inStock",value:b,onChange:function(e){return function(e){return l(Object(Q.a)(Object(Q.a)({},i),{},Object(K.a)({},e.target.name,e.target.checked)))}(e)}}),Object(G.jsx)("label",{className:"form-check-label",htmlFor:"inStock",children:"This product is in stock"})]}),Object(G.jsx)("button",{type:"submit",className:"btn btn-outline-success",children:"Sell your product"})]})})]})})),oe=Object(o.b)((function(e){return{products:e.products.products}}),{loadProducts:$})((function(e){var t=e.loadProducts,c=e.products;return Object(a.useEffect)((function(){t()}),[]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Y,{}),Object(G.jsx)("section",{className:"product",children:Object(G.jsxs)("div",{className:"container py-5",children:[Object(G.jsx)("div",{className:"row py-5",children:Object(G.jsxs)("div",{className:"col-lg-5 m-auto text-center",children:[Object(G.jsx)("h1",{children:"Featured Products"}),Object(G.jsx)("h6",{style:{color:"rgb(71, 81, 44)"},children:"What's hot and new right now!"})]})}),Object(G.jsx)("div",{className:"row",children:c?c.map((function(e,t){return Object(G.jsxs)("div",{className:"col-lg-3 text-center",children:[Object(G.jsx)("div",{className:"card border-0 mb-3 bg-light",children:Object(G.jsx)("div",{className:"card-body",children:Object(G.jsx)("img",{src:e.image,className:"img fluid",alt:"",style:{maxHeight:"200px",width:"auto"}})})}),Object(G.jsx)("h5",{children:e.name}),Object(G.jsxs)("p",{children:["Php ",e.price]}),Object(G.jsx)("a",{href:"/products/"+e.slug,className:"card-link",children:"View"}),Object(G.jsx)("a",{href:"/products/"+e.slug,className:"card-link",children:"Add to Cart"})]},e.id)})):Object(G.jsx)("div",{className:"col-lg-3 text-center",children:Object(G.jsx)("p",{children:"Loading products..."})})})]})})]})})),de=c(20),ue=c(45),je=c(46),be=c(47),me=[];var he={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null};var pe={products:null,product:null};var Oe=Object(de.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case F:return[].concat(Object(be.a)(e),[a]);case I:return e.filter((function(e){return e.id!==a}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case w:return Object(Q.a)(Object(Q.a)({},e),{},{isAuthenticated:!0});case S:return Object(Q.a)(Object(Q.a)({},e),{},{isAuthenticated:!1});case p:return localStorage.setItem("access",a.access),localStorage.setItem("refresh",a.refresh),Object(Q.a)(Object(Q.a)({},e),{},{isAuthenticated:!0,access:a.access,refresh:a.refresh});case x:return Object(Q.a)(Object(Q.a)({},e),{},{isAuthenticated:!1});case g:return Object(Q.a)(Object(Q.a)({},e),{},{user:a});case E:return localStorage.setItem("access",a.access),Object(Q.a)(Object(Q.a)({},e),{},{access:a.access});case y:return Object(Q.a)(Object(Q.a)({},e),{},{user:null});case O:case f:case _:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(Q.a)(Object(Q.a)({},e),{},{isAuthenticated:!1,access:null,refresh:null,user:null});case C:case A:case k:case P:case v:case N:case T:return Object(Q.a)({},e);default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case L:return Object(Q.a)(Object(Q.a)({},e),{},{products:a});case D:case W:return Object(Q.a)(Object(Q.a)({},e),{},{product:a});case q:case R:case U:return Object(Q.a)({},e);default:return e}}}),xe=[je.a],fe=Object(de.createStore)(Oe,{},Object(ue.composeWithDevTools)(de.applyMiddleware.apply(void 0,xe)));var ve=function(){return Object(G.jsx)(o.a,{store:fe,children:Object(G.jsx)(i.a,{children:Object(G.jsx)(V,{children:Object(G.jsxs)(l.d,{children:[Object(G.jsx)(l.b,{exact:!0,path:"/",component:B}),Object(G.jsx)(l.b,{path:"/login",component:ee}),Object(G.jsx)(l.b,{path:"/signup",component:te}),Object(G.jsx)(l.b,{path:"/activate/:uid/:token",component:ae}),Object(G.jsx)(l.b,{path:"/reset_password",component:se}),Object(G.jsx)(l.b,{path:"/password/reset/confirm/:uid/:token",component:ne}),Object(G.jsx)(l.b,{path:"/products/:slug",component:ie}),Object(G.jsx)(l.b,{path:"/profile",component:le}),Object(G.jsx)(l.b,{path:"/shop",component:oe})]})})})})};c(79);n.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(ve,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.ba237a71.chunk.js.map